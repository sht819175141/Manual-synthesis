<!doctype html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="utf-8">
  <title>string_decoder | Node.js API &#x6587;&#x6863;</title>
  <link rel="stylesheet" href="../static/api.css?20170216">
  <link rel="icon" sizes="32x32" type="image/png" href="../static/favicon.png">
</head>
<body class="alt apidoc" id="api-section-string_decoder">
  <div id="content" class="clearfix">
    <div id="column2" class="interior">
      <div id="intro" class="interior">
        <a href="index.html">
          Node.js &#x4E2D;&#x6587;&#x7F51;
        </a>
      </div>
      <ul>
<li><a class="nav-documentation" href="documentation.html">&#x5173;&#x4E8E;&#x672C;&#x6587;&#x6863;</a></li>
<li><a class="nav-synopsis" href="synopsis.html">&#x7528;&#x6CD5;&#x4E0E;&#x4F8B;&#x5B50;</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-assert" href="assert.html">Assert (&#x65AD;&#x8A00;)</a></li>
<li><a class="nav-buffer" href="buffer.html">Buffer</a></li>
<li><a class="nav-addons" href="addons.html">C/C++ &#x63D2;&#x4EF6;</a></li>
<li><a class="nav-child_process" href="child_process.html">Child Processes (&#x5B50;&#x8FDB;&#x7A0B;)</a></li>
<li><a class="nav-cluster" href="cluster.html">Cluster (&#x96C6;&#x7FA4;)</a></li>
<li><a class="nav-cli" href="cli.html">CLI (&#x547D;&#x4EE4;&#x884C;&#x9009;&#x9879;)</a></li>
<li><a class="nav-console" href="console.html">Console (&#x63A7;&#x5236;&#x53F0;)</a></li>
<li><a class="nav-crypto" href="crypto.html">Crypto (&#x52A0;&#x5BC6;)</a></li>
<li><a class="nav-debugger" href="debugger.html">Debugger (&#x8C03;&#x8BD5;&#x5668;)</a></li>
<li><a class="nav-dns" href="dns.html">DNS (&#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;)</a></li>
<li><a class="nav-domain" href="domain.html">Domain (&#x57DF;)</a></li>
<li><a class="nav-errors" href="errors.html">Error (&#x9519;&#x8BEF;)</a></li>
<li><a class="nav-events" href="events.html">Events (&#x4E8B;&#x4EF6;)</a></li>
<li><a class="nav-fs" href="fs.html">File System (&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;)</a></li>
<li><a class="nav-globals" href="globals.html">Global (&#x5168;&#x5C40;&#x53D8;&#x91CF;)</a></li>
<li><a class="nav-http" href="http.html">HTTP</a></li>
<li><a class="nav-https" href="https.html">HTTPS</a></li>
<li><a class="nav-modules" href="modules.html">Module (&#x6A21;&#x5757;)</a></li>
<li><a class="nav-net" href="net.html">Net (&#x7F51;&#x7EDC;)</a></li>
<li><a class="nav-os" href="os.html">OS (&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;)</a></li>
<li><a class="nav-path" href="path.html">Path (&#x8DEF;&#x5F84;)</a></li>
<li><a class="nav-process" href="process.html">Process (&#x8FDB;&#x7A0B;)</a></li>
<li><a class="nav-punycode" href="punycode.html">Punycode</a></li>
<li><a class="nav-querystring" href="querystring.html">Query Strings (&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;)</a></li>
<li><a class="nav-readline" href="readline.html">Readline (&#x9010;&#x884C;&#x8BFB;&#x53D6;)</a></li>
<li><a class="nav-repl" href="repl.html">REPL (&#x4EA4;&#x4E92;&#x5F0F;&#x89E3;&#x91CA;&#x5668;)</a></li>
<li><a class="nav-stream" href="stream.html">Stream (&#x6D41;)</a></li>
<li><a class="nav-string_decoder active" href="string_decoder.html">String Decoder (&#x5B57;&#x7B26;&#x4E32;&#x89E3;&#x7801;&#x5668;)</a></li>
<li><a class="nav-timers" href="timers.html">Timer (&#x5B9A;&#x65F6;&#x5668;)</a></li>
<li><a class="nav-tls" href="tls.html">TLS/SSL</a></li>
<li><a class="nav-tty" href="tty.html">TTY (&#x7EC8;&#x7AEF;)</a></li>
<li><a class="nav-dgram" href="dgram.html">UDP/Datagram (&#x6570;&#x636E;&#x62A5;)</a></li>
<li><a class="nav-url" href="url.html">URL</a></li>
<li><a class="nav-util" href="util.html">Util (&#x5B9E;&#x7528;&#x5DE5;&#x5177;)</a></li>
<li><a class="nav-v8" href="v8.html">V8</a></li>
<li><a class="nav-vm" href="vm.html">VM (&#x865A;&#x62DF;&#x673A;)</a></li>
<li><a class="nav-zlib" href="zlib.html">ZLIB (&#x538B;&#x7F29;)</a></li>
</ul>
<div class="line"></div>


    </div>

    <div id="column1" data-id="string_decoder" class="interior">
      <header>
        <h1>Node.js v6.10.0 &#x6587;&#x6863;</h1>
        <div id="gtoc">
          <p>
            <a href="index.html" name="toc">&#x8FD4;&#x56DE;&#x6587;&#x6863;&#x9996;&#x9875;</a>
            <!--<a href="/api/all.html">单页面显示</a> |-->
            <!--<a href="/api/string_decoder.json">JSON格式</a> |-->
            <!--<a href="/api/en/string_decoder.html">查看英文版</a>-->
          </p>
        </div>
        <hr>
      </header>

      <div id="toc">
        <h2>&#x76EE;&#x5F55;</h2>
        <ul>
<li><span class="stability_2"><a href="#string_decoder_stringdecoder">string_decoder (&#x5B57;&#x7B26;&#x4E32;&#x89E3;&#x7801;&#x5668;)</a></span><ul>
<li><span class="stability_undefined"><a href="#string_decoder_class_new_stringdecoder_encoding">&#x7C7B;: new StringDecoder([encoding])</a></span><ul>
<li><span class="stability_undefined"><a href="#string_decoder_stringdecoder_end_buffer">stringDecoder.end([buffer])</a></span></li>
<li><span class="stability_undefined"><a href="#string_decoder_stringdecoder_write_buffer">stringDecoder.write(buffer)</a></span></li>
</ul>
</li>
</ul>
</li>
</ul>

      </div>

      <div id="apicontent">
        <h1>string_decoder (&#x5B57;&#x7B26;&#x4E32;&#x89E3;&#x7801;&#x5668;)<span><a class="mark" href="#string_decoder_stringdecoder" id="string_decoder_stringdecoder">#</a></span></h1><p style="font-size:12px;margin-top:-1em"><a href="/api/en/string_decoder.html#string_decoder_stringdecoder">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/string_decoder/stringdecoder.md">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<pre class="api_stability api_stability_2">&#x7A33;&#x5B9A;&#x6027;: 2 - &#x7A33;&#x5B9A;&#x7684;</pre><p><code>string_decoder</code> &#x6A21;&#x5757;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A; API&#xFF0C;&#x7528;&#x4E8E;&#x89E3;&#x7801; <code>Buffer</code> &#x5BF9;&#x8C61;&#x6210;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x65B9;&#x5F0F;&#x88AB;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code class="lang-js">const StringDecoder = require(&apos;string_decoder&apos;).StringDecoder;
</code></pre>
<p>&#x4EE5;&#x4E0B;&#x4F8B;&#x5B50;&#x5C55;&#x793A;&#x4E86; <code>StringDecoder</code> &#x7C7B;&#x7684;&#x57FA;&#x672C;&#x7528;&#x6CD5;&#x3002;</p>
<pre><code class="lang-js">const StringDecoder = require(&apos;string_decoder&apos;).StringDecoder;
const decoder = new StringDecoder(&apos;utf8&apos;);

const cent = Buffer.from([0xC2, 0xA2]);
console.log(decoder.write(cent));

const euro = Buffer.from([0xE2, 0x82, 0xAC]);
console.log(decoder.write(euro));
</code></pre>
<p>&#x5F53;&#x4E00;&#x4E2A; <code>Buffer</code> &#x5B9E;&#x4F8B;&#x88AB;&#x5199;&#x5165; <code>StringDecoder</code> &#x5B9E;&#x4F8B;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A;&#x5185;&#x90E8;&#x7684; buffer &#x4F1A;&#x88AB;&#x7528;&#x4E8E;&#x786E;&#x4FDD;&#x89E3;&#x7801;&#x540E;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4E0D;&#x5305;&#x542B;&#x4EFB;&#x4F55;&#x4E0D;&#x5B8C;&#x6574;&#x7684;&#x591A;&#x5B57;&#x8282;&#x5B57;&#x7B26;&#x3002;
&#x4E0D;&#x5B8C;&#x6574;&#x7684;&#x591A;&#x5B57;&#x8282;&#x5B57;&#x7B26;&#x88AB;&#x4FDD;&#x5B58;&#x5728; buffer &#x4E2D;&#xFF0C;&#x76F4;&#x5230;&#x4E0B;&#x6B21;&#x8C03;&#x7528; <code>stringDecoder.write()</code> &#x6216;&#x76F4;&#x5230; <code>stringDecoder.end()</code> &#x88AB;&#x8C03;&#x7528;&#x3002;</p>
<p>&#x4EE5;&#x4E0B;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x6B27;&#x5143;&#x7B26;&#x53F7;&#xFF08;<code>&#x20AC;</code>&#xFF09;&#x7684;&#x4E09;&#x4E2A; UTF-8 &#x7F16;&#x7801;&#x7684;&#x5B57;&#x8282;&#x88AB;&#x5206;&#x6210;&#x4E09;&#x6B21;&#x64CD;&#x4F5C;&#x5199;&#x5165;&#xFF1A;</p>
<pre><code class="lang-js">const StringDecoder = require(&apos;string_decoder&apos;).StringDecoder;
const decoder = new StringDecoder(&apos;utf8&apos;);

decoder.write(Buffer.from([0xE2]));
decoder.write(Buffer.from([0x82]));
console.log(decoder.end(Buffer.from([0xAC])));
</code></pre>
<h2>&#x7C7B;: new StringDecoder([encoding])<span><a class="mark" href="#string_decoder_class_new_stringdecoder_encoding" id="string_decoder_class_new_stringdecoder_encoding">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/string_decoder.html#string_decoder_class_new_stringdecoder_encoding">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/string_decoder/class_new_stringdecoder_encoding.md">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.99</span>
</div><ul>
<li><code>encoding</code> <span class="type">&lt;string&gt;</span> <code>StringDecoder</code> &#x4F7F;&#x7528;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;utf8&apos;</code>&#x3002;</li>
</ul>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684; <code>StringDecoder</code> &#x5B9E;&#x4F8B;&#x3002;</p>
<h3>stringDecoder.end([buffer])<span><a class="mark" href="#string_decoder_stringdecoder_end_buffer" id="string_decoder_stringdecoder_end_buffer">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/string_decoder.html#string_decoder_stringdecoder_end_buffer">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/string_decoder/stringdecoder_end_buffer.md">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.9.3</span>
</div><ul>
<li><code>buffer</code> <a href="buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a> &#x4E00;&#x4E2A;&#x5305;&#x542B;&#x4E86;&#x8981;&#x89E3;&#x7801;&#x7684;&#x5B57;&#x8282;&#x7684; <code>Buffer</code>&#x3002;</li>
</ul>
<p>&#x4EE5;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x4EFB;&#x4F55;&#x5269;&#x4E0B;&#x7684;&#x88AB;&#x4FDD;&#x5B58;&#x5728;&#x5185;&#x90E8; buffer &#x4E2D;&#x7684;&#x5B57;&#x8282;&#x3002;
&#x4E0D;&#x5B8C;&#x6574;&#x7684; UTF-8 &#x4E0E; UTF-16 &#x5B57;&#x7B26;&#x7684;&#x5B57;&#x8282;&#x4F1A;&#x88AB;&#x66FF;&#x6362;&#x6210;&#x7B26;&#x5408;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x7684;&#x66FF;&#x4EE3;&#x5B57;&#x7B26;&#x3002;</p>
<p>&#x5982;&#x679C;&#x63D0;&#x4F9B;&#x4E86; <code>buffer</code> &#x53C2;&#x6570;&#xFF0C;&#x5219;&#x5728;&#x8FD4;&#x56DE;&#x5269;&#x4F59;&#x5B57;&#x8282;&#x4E4B;&#x524D;&#x4F1A;&#x518D;&#x6267;&#x884C;&#x4E00;&#x6B21; <code>stringDecoder.write()</code>&#x3002;</p>
<h3>stringDecoder.write(buffer)<span><a class="mark" href="#string_decoder_stringdecoder_write_buffer" id="string_decoder_stringdecoder_write_buffer">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/string_decoder.html#string_decoder_stringdecoder_write_buffer">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/string_decoder/stringdecoder_write_buffer.md">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.99</span>
</div><ul>
<li><code>buffer</code> <a href="buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a> &#x4E00;&#x4E2A;&#x5305;&#x542B;&#x4E86;&#x8981;&#x89E3;&#x7801;&#x7684;&#x5B57;&#x8282;&#x7684; <code>Buffer</code>&#x3002;</li>
</ul>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x89E3;&#x7801;&#x540E;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5E76;&#x786E;&#x4FDD; <code>Buffer</code> &#x672B;&#x5C3E;&#x7684;&#x4EFB;&#x4F55;&#x4E0D;&#x5B8C;&#x6574;&#x7684;&#x591A;&#x5B57;&#x8282;&#x5B57;&#x7B26;&#x4ECE;&#x8FD4;&#x56DE;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x88AB;&#x8FC7;&#x6EE4;&#x5E76;&#x4FDD;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x5185;&#x90E8;&#x7684; buffer &#x4E2D;&#x7528;&#x4E8E;&#x4E0B;&#x6B21;&#x8C03;&#x7528; <code>stringDecoder.write()</code> &#x6216; <code>stringDecoder.end()</code>&#x3002;</p>

      </div>
    </div>
  </div>
  <script src="../static/api.js"></script>
  <script>highlight(undefined, undefined, 'pre');</script>
</body>
</html>